<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASQ Ранговая система</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="site-wrapper">
        <header class="header">
            <h1 class="logo">ASQ <span>RANK SYSTEM</span></h1>
            <nav class="nav">
                <a href="#welcome">Главная</a>
                <a href="#about">О нас</a>
                <a href="#players">Игроки</a>
                <a href="#rules">Правила</a>
            </nav>
        </header>

        <main>
            <section id="welcome" class="section welcome">
                <div class="container">
                    <h2>Добро пожаловать на арену ASQ</h2>
                    <p>Честные ранговые игры, прозрачная система и уникальные уровни. Присоединяйся к сообществу!</p>
                </div>
            </section>

            <section id="about" class="section about">
                <div class="container">
                    <h2>Мы — ASQ</h2>
                    <p>Мы пытаемся сделать вашу ранговую игру с нашей системой более справедливой и честной. Мы стараемся для вас.</p>
                </div>
            </section>

            <section id="players" class="section players">
                <div class="container">
                    <h2>Игроки и их ранги</h2>
                    <div id="playersContainer" class="players-grid"></div>
                </div>
            </section>

            <section id="rules" class="section rules">
                <div class="container">
                    <h2>Глобальный регламент арены</h2>
                    <div class="rules-content">
                        <!-- правила остались без изменений -->
                        <div class="rule-block">
                            <h3>⚔️ Основной принцип</h3>
                            <p><strong>Любое противостояние между участниками в любой игре может быть засчитано как официальный матч.</strong></p>
                            <p><strong>С этого момента, каждую игру я буду вам напоминать, ранговая ли игра. Если <em>все</em> скажут, что <em>да</em>, то игра будет <em>на ранг</em>.</strong></p>
                            <p><strong>Я вас обязан напомнить в Discord про изменение правил регламента арены.</strong></p>
                            <p><em>P.S. Все предыдущие игры, которые <u>автоматически были засчитаны мной как ранговые</u>, <u>не будут откачены</u>.</em></p>
                            <p><em>P.S. 2 : Я не гарантирую, что смогу вас напомнить про то, ранговая ли сейчас игра. Если я ничего не сказал - Игра засчитана как фановая.</em></p>
                        </div>

                        <div class="rule-block">
                            <h3>2. Начисление очков (Рангов)</h3>
                            <ul>
                                <li><strong>Дуэль (1 на 1):</strong> Победитель получает +1 ранг. Проигравший теряет -1 ранг.</li>
                                <li><strong>Испытание (1 на 2):</strong> Если одиночка выигрывает у двоих, он получает сразу +3 ранга. Если выигрывает тима — им по +1.</li>
                                <li><strong>Доминация (Всухую):</strong> Если победа была абсолютной (счет 5-0, 10-0 или огромный отрыв), победитель получает +2 ранга.</li>
                            </ul>
                        </div>

                        <div class="rule-block">
                            <h3>3. Система защиты</h3>
                            <ul>
                                <li><strong>Достойный проигрыш:</strong> Если проигравший показал жесткий скилл и почти дожал (например, счет 9-10), по решению Фаундера или Лидера ранг у проигравшего может не сниматься.</li>
                                <li><strong>Ничья:</strong> Если никто не выиграл — ранги остаются на месте.</li>
                            </ul>
                        </div>

                        <div class="rule-block">
                            <h3>4. Честная игра</h3>
                            <p><strong>Любой абьюз системы или фейк-скрины караются обнулением до ранга «Новичок».</strong></p>
                            <p><em>P.S. каждая игра, в которой нет <span class="role">@Дизайнер_сервера</span>, должна быть с демо-записью (демкой). Если в матче участвует <span class="role">@Дизайнер_сервера</span>, демо-запись не требуется, так как его присутствие считается официальным подтверждением результата.</em></p>
                        </div>

                        <div class="rule-block">
                            <h3>5. Система пощады</h3>
                            <p><strong>Я в зависимости от ситуаций, длительности игры, процессу игры могу выдать дополнительный ранг либо наоборот, снижение ранга.</strong></p>
                            <p><strong>Что за ситуации такие?</p></strong>
                            <li><strong>Хороший отыгрыш:</strong> Если проигравший не имеет 30 ранга и он взял 5+ раундов, есть шанс, что его помилуют и не отнимут ранг.</li>
                            <li><strong>Чрезвычайная ситуация:</strong> Если игра не считается доигранной (нету 16 выиграшей на одной из стороны), то ранги не изменяются и матч аннулируется.</li>
                            <li><strong>Эпичные моменты:</strong> Если игрок очень хорошо отыгрывал несмотря на низкий счет, ему могут не отнять ранг. P.S. Нужен НЕ ОДИН такой момент, и такие моменты, чтобы все аж орали.</li>
                            <li><strong>"Руина":</strong> Если ты хоть как-нибудь руинил раунд (убивал своего же, мешал и т.п.), то тебе <u>не гарантируется</u> добавление ранга <u>даже при победе.</u></li>
                        </div>

                        <div class="rule-block">
                            <h3>6. Формула LVL</h3>
                            <p><strong>Как я вычисляю ваш LVL</strong> — <em>n/3, где n — Ваш ранг</em>.</p>
                            <em>P.S. Полученное значение округляется вниз.</em>
                        </div>

                        <div class="rule-block">
                            <h3>7. Правила свободы</h3>
                            <p><strong>Вы можете <u>группой</u> подать заявку на изменение данного регламента, если вам что-нибудь не понравится — можно сказать это <span class="role">@Дизайнер_сервера</span>. Но мы не даем гарантии, что <span class="role">@Дизайнер_сервера</span> согласится на данную инициативу.</strong></p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>© 2026 ASQ Ранговая система. Все права защищены. Ну, "типа" защищены.</p>
        </footer>
    </div>

    <script>
        // ========== СПИСОК ИГРОКОВ ==========
        const players = [
            { name: "Chainsaw", rank: 11 },
            { name: "Andrew", rank: 7 },
            { name: "Спичичний коробок", rank: 7 },
            { name: "Владос", rank: 8 },
            { name: "Турбокулез", rank: 6 }
        ];

        // ========== НАСТРОЙКА ФОРМУЛЫ ==========
        // Вы можете изменить функцию calculateLevelAndProgress так, как вам нужно.
        // Сейчас уровень считается как floor((rank-1)/3) + 1, что даёт:
        // ранг 1-3 → уровень 1, 4-6 → уровень 2, 7-9 → уровень 3 и т.д.
        // Если вы хотите другое распределение, например, чтобы 7 и 8 ранг были уровнем 2,
        // используйте формулу: level = Math.floor(rank / 3) + 1 (но тогда 6 ранг станет уровнем 3).
        // Или напишите свою логику.

        function calculateLevelAndProgress(rank) {
            // Округление вниз уже используется (Math.floor)
            const level = Math.floor(rank / 3);   // ← измените эту строку под свою систему

            // Прогресс внутри уровня (сколько рангов до следующего уровня)
            const progress = (level / 50) * 100;

            // Если хотите показывать прогресс относительно максимального уровня (50), используйте:
            // const progress = (level / 50) * 100;

            return { level, progress };
        }

        // Рендерим карточки
        const container = document.getElementById('playersContainer');
        if (container) {
            // Очищаем контейнер на случай повторного запуска (не обязательно)
            container.innerHTML = '';

            players.forEach(player => {
                const { level, progress } = calculateLevelAndProgress(player.rank);
                const card = document.createElement('div');
                card.className = 'player-card';

                // Рассчитываем угол для конического градиента
                const angle = (progress / 100) * 360;
                const circleStyle = `background: conic-gradient(#00a6ff 0deg ${angle}deg, #2a2f4b ${angle}deg 360deg);`;

                card.innerHTML = `
                    <div class="player-name">${player.name}</div>
                    <div class="progress-circle" style="${circleStyle}">
                        <div class="progress-inner">
                            <span class="lvl-label">LVL</span>
                            <span class="lvl-value">${level}</span>
                        </div>
                    </div>
                    <div class="player-rank">(ранг ${player.rank})</div>
                `;
                container.appendChild(card);
            });
        }
    </script>
</body>
</html>
